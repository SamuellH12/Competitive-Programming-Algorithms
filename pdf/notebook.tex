\documentclass[10pt,a4paper]{article}
\usepackage[left=0.6cm, right=0.6cm, top=0.3cm, bottom=0.6cm, includehead]{geometry}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{listings}
\usepackage[table]{xcolor}
\usepackage{tcolorbox}
\usepackage{adjustbox}
\usepackage{mdframed}
\usepackage{tocloft}
\usepackage{pdflscape}
\usepackage{multicol}
\usepackage[scaled]{beramono}
\usepackage[portuguese]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{titlesec}
\usepackage{setspace}
\usepackage{amsmath} 
\usepackage{amssymb} 
\usepackage{etoolbox}
\usepackage{needspace}
\usepackage{booktabs}

\newcommand{\university}{Universidade Federal de Pernambuco - UFPE}

\title{\vspace{-5ex}\Large{\underline{

  SamuellH12 - ICPC Library  %% Título

  \includegraphics[height=0.75cm]{maratona_cin.png} %% Logos ao lado do título
  \includegraphics[height=0.75cm]{spinosaurus.png} 

}}}\author{}\date{}

% Colors of description boxes
\definecolor{descboxbg}{RGB}{210,220,244}
\definecolor{descboxfrm}{RGB}{24,79,102}
\definecolor{blockdescbg}{RGB}{252, 243, 187}

\graphicspath{{./images/}{./temp/}} % Pastas para buscar imagens


\tcbuselibrary{listings}
\tcbuselibrary{breakable, skins} 
\renewcommand{\arraystretch}{0.85}
\renewcommand*{\ttdefault}{pcr}
\renewcommand\cftsecfont{\fontsize{10}{11}\bfseries}
\renewcommand\cftsecpagefont{\fontsize{10}{11}\mdseries}
\renewcommand\cftsubsecfont{\fontsize{8}{9}\mdseries}
\renewcommand\cftsubsecpagefont{\fontsize{8}{9}\mdseries}
\renewcommand\cftsubsubsecfont{\fontsize{6}{7}\mdseries}
\renewcommand\cftsubsubsecpagefont{\fontsize{6}{7}\mdseries}
\renewcommand\cftsecafterpnum{\vspace{-1ex}}
\renewcommand\cftsubsecafterpnum{\vspace{-1ex}}
\renewcommand\cftsubsubsecafterpnum{\vspace{-1.2ex}}

\lstdefinestyle{shared}{
  belowcaptionskip=0.05\baselineskip,
  breaklines=true,
  xleftmargin=0pt,
  showstringspaces=false,
  basicstyle=\fontsize{7}{8}\ttfamily,
}
\lstdefinestyle{cpp}{
  style=shared,
  language=C++,
  keywordstyle=\bfseries\color{green!40!black},
  commentstyle=\itshape\color{red!80!black},
  identifierstyle=\color{blue},
  stringstyle=\color{purple!40!black},
}
\lstdefinestyle{java}{
  style=shared,
  language=Java,
  keywordstyle=\bfseries\color{green!40!black},
  commentstyle=\itshape\color{purple!40!black},
  identifierstyle=\color{blue},
  stringstyle=\color{purple!40!black},
}
\lstdefinestyle{py}{
  style=shared,
  language=Python,
  keywordstyle=\bfseries\color{green!40!black},
  commentstyle=\itshape\color{purple!40!black},
  identifierstyle=\color{blue},
  stringstyle=\color{purple!40!black},
}
\lstdefinestyle{sh}{
  style=shared,
  language=bash,
  keywordstyle=\bfseries\color{green!40!black},
  commentstyle=\itshape\color{purple!40!black},
  identifierstyle=\color{blue},
  stringstyle=\color{purple!40!black},
}
\lstdefinestyle{txt}{
  style=shared,
}
\lstset{
  escapechar=@,
  tabsize=2,
}
\tcbset{
  colback=gray!10,
  colframe=gray!40,
  boxrule=0.5pt,
  arc=2pt,
  left=3pt,
  right=3pt,
  top=3pt,
  bottom=3pt,
  boxsep=2pt
}
% LATEX DESC

% define a pleasant default listings style (customize as you like)
\lstdefinestyle{myListingStyle}{
  basicstyle=\fontsize{7}{8}\ttfamily,
  keywordstyle=\bfseries,
  commentstyle=\itshape\color{gray},
  stringstyle=\color{olive!60!black},
  breaklines=true,
  breakatwhitespace=true,
  showstringspaces=false,
  xleftmargin=0pt,
  frame=none,
  belowcaptionskip=0.05\baselineskip,
  tabsize=2,
  keepspaces=true,
  showspaces=false,                
  showtabs=false,   
}

\newtcblisting{listingframe}[2][]{%
  enhanced,
  breakable,
  listing only,
  listing engine=listings,
  colback=descboxbg,
  colframe=descboxfrm,
  coltitle=black,
  fonttitle=\sffamily\bfseries,
  title={#1},            % optional title
  attach title to upper,
  top=-1mm, bottom=-1mm, left=2mm, right=2mm,
  boxrule=0.6pt,
  arc=2mm,
  outer arc=2mm,
  borderline={0.5pt}{0pt}{descboxfrm},
  shadow={0pt}{-1.5pt}{3pt}{black!12},
  listing options={style=myListingStyle,#2}
}


%%% BLOCK_DESC BEGIN %%%
\newmdenv[
  backgroundcolor=blockdescbg,
  linecolor=gray!30,
  linewidth=0.4pt,
  roundcorner=4pt,
  leftmargin=0pt,
  rightmargin=0pt,
  innerleftmargin=4pt,
  innerrightmargin=4pt,
  innertopmargin=2pt,
  innerbottommargin=2pt,
  skipabove=0pt,
  skipbelow=1pt,
  font=\fontsize{6}{7}\ttfamily,
]{blockdescenv}

\newcommand{\blockdesc}[1]{%
  \par\vspace{-5pt}
  \noindent
  \begin{adjustbox}{minipage=\dimexpr\linewidth-2\fboxsep-2\fboxrule}
    \begin{blockdescenv}
      #1
    \end{blockdescenv}
  \end{adjustbox}
  \vspace{1pt}
}
%%% BLOCK_DESC END %%%

\pagestyle{fancy}
\fancyhead[L]{}
\fancyhead[R]{\rotatebox{90}{\scriptsize\thepage}}
\fancyfoot[C]{}
\renewcommand{\headrulewidth}{0pt}

\fancypagestyle{plain}{
\fancyhead[L]{\scriptsize\university}
\fancyhead[R]{\rotatebox{90}{\scriptsize\thepage}}
\fancyfoot[C]{}
\renewcommand{\headrulewidth}{0.2pt}
}

\begin{document}
\begin{landscape}
\begin{multicols*}{2}  % MUDE A QUANTIDADE DE COLUNAS AQUI
\raggedcolumns 
\interlinepenalty=10000

\maketitle
\vspace{-13ex}
{\tiny\today} \vspace{-3ex}
\tableofcontents
\pagestyle{fancy}

\input contents.tex

\end{multicols*}
\end{landscape}
\end{document}
